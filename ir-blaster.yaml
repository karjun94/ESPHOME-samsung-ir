
esphome:
  name: ir-blaster
# Include IRremoteESP8266 as a library
  min_version: 2025.2.2
  build_path: build/ir-blaster
  libraries:
  - IRremoteESP8266@2.8.6

esp8266:
  board: d1_mini

external_components:
  - source: "./custom_components"

logger:
api:
ota:
  platform: esphome
# WiFi configuration
wifi:
  ssid: "your ssid"
  password: "your wifi password"
  ap:
    ssid: "IR-Blaster-Fallback"
    password: "fallback_password"


remote_transmitter:
  id: ir_tx
  pin: 4
  carrier_duty_percent: 50%

climate:
  - platform: samsung_ac_climate
    name: Room Samsung AC
    transmitter_id: ir_tx
    transmitter_pin: 4 
    turbo_support: true
    id: samsung_ac

fan:
  - platform: template
    name: "Panasonic Fan"
    speed_count: 3
    restore_mode: RESTORE_DEFAULT_ON 
    id: my_fan
    on_turn_on:
      - remote_transmitter.transmit_pronto:
                  data: "0000 006D 003A 0000 0086 0043 0011 0011 0011 0032 0010 0012 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0032 0011 0011 0011 0012 0010 0011 0010 0012 0011 0011 0011 0011 0010 0033 0010 0012 0011 0032 0010 0034 0010 0011 0010 0012 0011 0033 0010 0011 0010 0012 0011 0011 0011 0011 0011 0032 0010 0012 0010 0012 0011 0011 0011 0012 0010 0033 0010 0033 000F 0012 0010 0012 0011 0033 0010 0012 0010 0012 0010 0011 0011 0033 0010 0033 0010 0012 0010 0012 0010 0033 0010 0012 0010 0033 0010 0011 0011 0033 0010 0012 0010 0033 0010 0012 0010 0181"
    on_turn_off:
            - remote_transmitter.transmit_pronto:
                  data: "0000 006D 003A 0000 0086 0043 0011 0011 0011 0032 0010 0012 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0032 0011 0011 0011 0012 0010 0011 0010 0012 0011 0011 0011 0011 0010 0033 0010 0012 0011 0032 0010 0034 0010 0011 0010 0012 0011 0033 0010 0011 0010 0012 0011 0011 0011 0011 0011 0032 0010 0012 0010 0012 0011 0011 0011 0012 0010 0033 0010 0033 000F 0012 0010 0012 0011 0033 0010 0012 0010 0012 0010 0011 0011 0033 0010 0033 0010 0012 0010 0012 0010 0033 0010 0012 0010 0033 0010 0011 0011 0033 0010 0012 0010 0033 0010 0012 0010 0181"

    on_speed_set:
      then:
        - if:
            condition:
              lambda: 'return x == 1;'  # FAN_SPEED_LOW
            then:
              - remote_transmitter.transmit_pronto:
                  data: "0000 006D 003A 0000 0088 0042 0011 000F 0013 0031 0011 0010 0013 000F 0012 0010 0013 000F 0013 000F 0013 000F 0013 000F 0012 000F 0012 000F 0012 000F 0012 000F 0013 0031 0011 0010 0013 000F 0012 000F 0012 000F 0013 000F 0013 000F 0012 0032 0011 000F 0013 0031 0011 0032 0012 000F 0012 0010 0012 0032 0011 0010 0013 000F 0012 0010 0012 0010 0012 0032 0011 000F 0012 000F 0012 000F 0012 0010 0012 0032 0011 0032 0011 0010 0012 000F 0012 0032 0011 000F 0012 000F 0012 0010 0012 0010 0012 0032 0011 000F 0012 000F 0012 0032 0011 0010 0012 0032 0011 000F 0012 000F 0012 000F 0012 0032 0011 0010 0012 0181"
        - if:
            condition:
              lambda: 'return x == 2;'  # FAN_SPEED_MEDIUM
            then:
               - remote_transmitter.transmit_pronto:
                  data: "0000 006D 003A 0000 0088 0043 0011 0010 0012 0032 0011 0010 0012 0010 0012 0010 0012 000F 0012 000F 0012 0010 0012 0010 0012 0010 0012 0010 0012 0010 0012 0010 0012 0032 0011 0010 0012 0010 0012 000F 0012 0010 0012 0010 0012 000F 0012 0032 0011 000F 0012 0032 0011 0032 0011 0010 0012 000F 0012 0032 0011 0010 0012 000F 0012 0010 0012 0010 0011 0033 0011 0010 0012 0010 0011 0010 0011 0010 0012 0032 0011 0032 0011 0010 0012 0010 0012 0010 0012 0032 0011 0010 0012 0010 0012 0010 0012 0032 0011 0010 0012 0010 0011 0010 0011 0033 0011 0032 0010 0011 0012 0010 0012 0010 0012 0032 0010 0011 0011 0181"
        - if:
            condition:
              lambda: 'return x == 3;'  # FAN_SPEED_HIGH
            then:
              - remote_transmitter.transmit_pronto:
                  data: "0000 006D 003A 0000 0087 0043 0010 0011 0010 0033 0010 0011 0010 0011 0011 0011 0010 0011 0010 0011 0010 0011 0010 0011 0010 0011 0011 0011 0011 0010 0010 0011 0010 0033 0011 0011 0011 0010 0010 0011 0010 0011 0010 0011 0010 0011  0011 0032 0011 0010 0011 0032 0011 0032 0011 0010 0011 0010 0012 0032 0011 0010 0011 0010 0011 0010 0011 0010 0011 0032 0011 0010 0011 0010 0011 0010 0011 0010 0011 0032 0011 0031 0012 0010 0011 0011 0011 0031 0012 0031 0012 0010 0011 0011 0010 0012 0011 0032 0010 0012 0010 0012 0010 0032 0012 0031 0012 0031 0012 0011 0010 0012 0010 0012 0010 0033 0012 0011 0010 0181"       
     
